{% extends "Layout.html" %}
{% block title %}Result{% endblock %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/table.css') }}">
{% endblock %}
{% block navbar %}
<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-blue w3-card w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-blue" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
    <a href="{{ url_for('get_main_page') }}" class="w3-bar-item w3-button w3-padding-large w3-hover-white">Home</a>
    <a href="{{ url_for('upload_file_page') }}" class="w3-bar-item w3-button w3-padding-large w3-hover-white">Upload</a>
    <a href="{{ url_for('get_projects_params') }}" class="w3-bar-item w3-button w3-padding-large w3-hover-white">Parameters</a>
    <a href="{{ url_for('get_projects_result_list') }}" class="w3-bar-item w3-button w3-padding-large w3-hover-white">Results</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large  w3-white">Result</a>
  </div>
</div>
{% endblock %}
{% block body %}

<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
     <h1>Results{% if name %} of {{name}}{% endif %}</h1>
    <div id="resultDiv">
    {% if result != "-" %}
      <p id="finalPorosity">Final porosity: <div class="boldText">{{result["porosity"]}}</div></p>
      <p id="finalLossFuncVal">Final loss function value: <div class="boldText">{{result["lv1lossfunctionval"]}}</div></p><br>
        <table>
          <thead>
            <tr>
              <th>Component</th>
              <th>K</th>
              <th>D</th>
              {% if result["solver"] == "Nonlin" %}
              <th>Q</th>
              {% endif %}
              <th>Loss Function Value</th>
            </tr>
          </thead>
          <tbody>
            {% for comp in compList %}
            <tr>
              <td>{{comp}}</td>
              <td>{{result["compparams"][comp][0]|round(2)}}</td>
              <td>{{result["compparams"][comp][1]|round(2)}}</td>
              {% if result["solver"] == "Nonlin" %}
              <td>{{result["compparams"][comp][2]|round(2)}}</td>
              {% endif %}
              <td>{{result["lv2lossfunctionvals"][comp]|round(2)}}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
    {% else %}
    Working<div id="dotsDiv" class="inline">...</div>
    {% endif %}
    </div>
  </div>
</div>
<script type="text/javascript">
    {% if result == "-" %}
      getResult()
    {% endif %}
</script>
{% endblock %}